<!DOCTYPE html>
<html lang="zh-CN">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>太虚仙门 · 问道长生</title>
<script src="https://cdn.tailwindcss.com"></script>
<script>
tailwind.config = {
theme: {
extend: {
colors: {
ink: '#1a1a1a',
paper: '#f5f0e6',
vermilion: '#c53d43',
jade: '#5a7e7a',
gold: '#d4a853',
azure: '#4a6fa5',
mystic: '#2d3a4a',
spirit: '#7eb8a2',
cinnabar: '#e34234',
}
}
}
}
</script>
<link href="https://fonts.googleapis.com/css2?family=Ma+Shan+Zheng&family=Noto+Serif+SC:wght@300;400;600;700&display=swap" rel="stylesheet">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
<style>
:root {
--bg-primary: #0d1117;
--bg-secondary: #161b22;
--text-primary: #f5f0e6;
--text-secondary: #a8a095;
--accent-gold: #d4a853;
--accent-jade: #5a7e7a;
--accent-vermilion: #c53d43;
--glow-gold: rgba(212, 168, 83, 0.4);
--glow-jade: rgba(90, 126, 122, 0.3);
}

* { box-sizing: border-box; }
body { 
font-family: 'Noto Serif SC', serif; 
background: var(--bg-primary);
color: var(--text-primary);
overflow-x: hidden;
}

.font-brush { font-family: 'Ma Shan Zheng', cursive; }

/* 云雾动画 */
@keyframes floatCloud {
0%, 100% { transform: translateX(0) translateY(0); opacity: 0.3; }
50% { transform: translateX(30px) translateY(-20px); opacity: 0.5; }
}

@keyframes driftMist {
0% { transform: translateX(-100%); }
100% { transform: translateX(100vw); }
}

@keyframes pulseGlow {
0%, 100% { box-shadow: 0 0 20px var(--glow-gold), inset 0 0 20px rgba(212, 168, 83, 0.1); }
50% { box-shadow: 0 0 40px var(--glow-gold), inset 0 0 30px rgba(212, 168, 83, 0.2); }
}

@keyframes rotateSlow {
from { transform: rotate(0deg); }
to { transform: rotate(360deg); }
}

@keyframes breathe {
0%, 100% { transform: scale(1); opacity: 0.8; }
50% { transform: scale(1.1); opacity: 1; }
}

@keyframes spiritFlow {
0% { background-position: 0% 50%; }
50% { background-position: 100% 50%; }
100% { background-position: 0% 50%; }
}

@keyframes fadeInUp {
from { opacity: 0; transform: translateY(30px); }
to { opacity: 1; transform: translateY(0); }
}

@keyframes inkSpread {
from { transform: scale(0); opacity: 0; }
to { transform: scale(1); opacity: 1; }
}

.animate-fade-in { animation: fadeInUp 0.8s ease-out forwards; }
.animate-delay-1 { animation-delay: 0.1s; }
.animate-delay-2 { animation-delay: 0.2s; }
.animate-delay-3 { animation-delay: 0.3s; }
.animate-delay-4 { animation-delay: 0.4s; }

/* 太极图 */
.taiji {
width: 120px;
height: 120px;
border-radius: 50%;
background: linear-gradient(to right, #f5f0e6 50%, #1a1a1a 50%);
position: relative;
animation: rotateSlow 20s linear infinite;
}

.taiji::before,
.taiji::after {
content: '';
position: absolute;
width: 60px;
height: 60px;
border-radius: 50%;
}

.taiji::before {
background: #f5f0e6;
top: 0;
left: 50%;
transform: translateX(-50%);
}

.taiji::after {
background: #1a1a1a;
bottom: 0;
left: 50%;
transform: translateX(-50%);
}

/* 金丹效果 */
.golden-core {
width: 80px;
height: 80px;
border-radius: 50%;
background: radial-gradient(circle at 30% 30%, #ffd700, #d4a853, #b8860b);
animation: pulseGlow 3s ease-in-out infinite, breathe 4s ease-in-out infinite;
position: relative;
}

.golden-core::after {
content: '';
position: absolute;
inset: -10px;
border-radius: 50%;
background: radial-gradient(circle, rgba(212, 168, 83, 0.3), transparent 70%);
animation: breathe 3s ease-in-out infinite;
}

/* 云雾层 */
.mist-layer {
position: fixed;
inset: 0;
pointer-events: none;
z-index: 1;
overflow: hidden;
}

.mist {
position: absolute;
width: 200%;
height: 100%;
background: linear-gradient(90deg, 
transparent 0%, 
rgba(90, 126, 122, 0.05) 25%, 
rgba(212, 168, 83, 0.03) 50%, 
rgba(90, 126, 122, 0.05) 75%, 
transparent 100%);
animation: driftMist 60s linear infinite;
}

/* 山水背景 */
.mountain-bg {
position: fixed;
inset: 0;
z-index: 0;
background: 
linear-gradient(180deg, 
rgba(13, 17, 23, 0.9) 0%, 
rgba(22, 27, 34, 0.8) 50%, 
rgba(13, 17, 23, 0.95) 100%),
url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 1440 800'%3E%3Cpath fill='%231a1a1a' d='M0,800 L0,600 Q200,400 400,500 T800,400 T1200,500 L1440,450 L1440,800 Z' opacity='0.3'/%3E%3Cpath fill='%232d3a4a' d='M0,800 L0,650 Q300,500 600,600 T1200,500 L1440,550 L1440,800 Z' opacity='0.2'/%3E%3C/svg%3E");
background-size: cover;
}

/* 玻璃卡片 */
.glass-card {
background: linear-gradient(135deg, 
rgba(45, 58, 74, 0.6) 0%, 
rgba(22, 27, 34, 0.8) 100%);
backdrop-filter: blur(20px);
border: 1px solid rgba(212, 168, 83, 0.2);
border-radius: 16px;
position: relative;
overflow: hidden;
}

.glass-card::before {
content: '';
position: absolute;
top: 0;
left: 0;
right: 0;
height: 1px;
background: linear-gradient(90deg, transparent, rgba(212, 168, 83, 0.5), transparent);
}

/* 境界进度条 */
.realm-progress {
height: 8px;
background: rgba(26, 26, 26, 0.5);
border-radius: 4px;
overflow: hidden;
position: relative;
}

.realm-progress-bar {
height: 100%;
background: linear-gradient(90deg, var(--accent-jade), var(--accent-gold));
border-radius: 4px;
transition: width 1s ease-out;
position: relative;
}

.realm-progress-bar::after {
content: '';
position: absolute;
inset: 0;
background: linear-gradient(90deg, transparent, rgba(255,255,255,0.3), transparent);
animation: spiritFlow 2s linear infinite;
background-size: 200% 100%;
}

/* 八卦符号 */
.bagua {
display: grid;
grid-template-columns: repeat(3, 1fr);
gap: 4px;
width: 60px;
}

.bagua-line {
height: 6px;
background: var(--text-primary);
border-radius: 2px;
}

.bagua-line.broken {
background: linear-gradient(90deg, var(--text-primary) 0%, var(--text-primary) 40%, transparent 40%, transparent 60%, var(--text-primary) 60%);
}

/* 滚动条 */
::-webkit-scrollbar { width: 6px; }
::-webkit-scrollbar-track { background: var(--bg-secondary); }
::-webkit-scrollbar-thumb { background: var(--accent-jade); border-radius: 3px; }

/* 导航激活状态 */
.nav-item {
position: relative;
transition: all 0.3s ease;
}

.nav-item::after {
content: '';
position: absolute;
bottom: -4px;
left: 50%;
width: 0;
height: 2px;
background: var(--accent-gold);
transition: all 0.3s ease;
transform: translateX(-50%);
}

.nav-item:hover::after,
.nav-item.active::after {
width: 100%;
}

/* 灵气粒子 */
.spirit-particle {
position: absolute;
width: 4px;
height: 4px;
background: radial-gradient(circle, rgba(126, 184, 162, 0.8), transparent);
border-radius: 50%;
pointer-events: none;
animation: floatCloud 8s ease-in-out infinite;
}

/* 打坐动画 */
.meditation-ring {
position: absolute;
border: 2px solid rgba(212, 168, 83, 0.3);
border-radius: 50%;
animation: breathe 4s ease-in-out infinite;
}

/* 按钮样式 */
.btn-immortal {
background: linear-gradient(135deg, rgba(212, 168, 83, 0.2), rgba(212, 168, 83, 0.1));
border: 1px solid rgba(212, 168, 83, 0.4);
color: var(--accent-gold);
padding: 12px 32px;
border-radius: 8px;
font-weight: 600;
transition: all 0.3s ease;
position: relative;
overflow: hidden;
}

.btn-immortal:hover {
background: linear-gradient(135deg, rgba(212, 168, 83, 0.3), rgba(212, 168, 83, 0.2));
box-shadow: 0 0 30px rgba(212, 168, 83, 0.3);
transform: translateY(-2px);
}

.btn-immortal:active {
transform: translateY(0);
}

/* 输入框 */
.input-immortal {
background: rgba(26, 26, 26, 0.5);
border: 1px solid rgba(90, 126, 122, 0.3);
color: var(--text-primary);
padding: 12px 16px;
border-radius: 8px;
transition: all 0.3s ease;
}

.input-immortal:focus {
outline: none;
border-color: var(--accent-gold);
box-shadow: 0 0 20px rgba(212, 168, 83, 0.2);
}

/* 标签页 */
.tab-btn {
padding: 12px 24px;
color: var(--text-secondary);
border-bottom: 2px solid transparent;
transition: all 0.3s ease;
cursor: pointer;
}

.tab-btn:hover {
color: var(--text-primary);
}

.tab-btn.active {
color: var(--accent-gold);
border-bottom-color: var(--accent-gold);
}

/* 秘籍卡片 */
.scroll-card {
background: linear-gradient(180deg, rgba(245, 240, 230, 0.05), rgba(245, 240, 230, 0.02));
border: 1px solid rgba(212, 168, 83, 0.15);
border-radius: 12px;
padding: 24px;
transition: all 0.4s ease;
position: relative;
}

.scroll-card:hover {
transform: translateY(-4px);
border-color: rgba(212, 168, 83, 0.4);
box-shadow: 0 20px 40px rgba(0, 0, 0, 0.3);
}

.scroll-card::before {
content: '';
position: absolute;
top: 0;
left: 20px;
right: 20px;
height: 1px;
background: linear-gradient(90deg, transparent, rgba(212, 168, 83, 0.5), transparent);
}

/* 炼丹炉 */
.furnace {
width: 200px;
height: 240px;
position: relative;
margin: 0 auto;
}

.furnace-body {
width: 160px;
height: 180px;
background: linear-gradient(180deg, #4a3728, #2d1f15);
border-radius: 20px 20px 40px 40px;
position: absolute;
bottom: 0;
left: 50%;
transform: translateX(-50%);
border: 3px solid #6b4423;
box-shadow: inset 0 -40px 60px rgba(0,0,0,0.5);
}

.furnace-top {
width: 180px;
height: 40px;
background: linear-gradient(180deg, #5a4a3a, #4a3728);
border-radius: 10px 10px 0 0;
position: absolute;
top: 20px;
left: 50%;
transform: translateX(-50%);
border: 3px solid #6b4423;
border-bottom: none;
}

.flame {
position: absolute;
bottom: 20px;
left: 50%;
transform: translateX(-50%);
width: 100px;
height: 60px;
background: radial-gradient(ellipse at bottom, #ff6b35, #f7931a, transparent);
border-radius: 50% 50% 20% 20%;
opacity: 0;
transition: opacity 0.5s ease;
filter: blur(2px);
}

.flame.active {
opacity: 1;
animation: breathe 1s ease-in-out infinite;
}

.smoke {
position: absolute;
top: -20px;
left: 50%;
transform: translateX(-50%);
width: 40px;
height: 60px;
opacity: 0;
transition: opacity 0.5s ease;
}

.smoke-particle {
position: absolute;
width: 20px;
height: 20px;
background: radial-gradient(circle, rgba(126, 184, 162, 0.4), transparent);
border-radius: 50%;
animation: floatCloud 3s ease-in-out infinite;
}

.smoke.active { opacity: 1; }

/* 灵根测试结果 */
.root-result {
text-align: center;
padding: 40px;
background: radial-gradient(circle at center, rgba(212, 168, 83, 0.1), transparent);
border-radius: 20px;
}

/* 修炼计时器 */
.meditation-timer {
font-size: 4rem;
font-weight: 300;
letter-spacing: 0.1em;
color: var(--accent-gold);
text-shadow: 0 0 30px rgba(212, 168, 83, 0.5);
}

/* 引用样式 */
.quote-block {
border-left: 3px solid var(--accent-gold);
padding-left: 20px;
font-style: italic;
color: var(--text-secondary);
position: relative;
}

.quote-block::before {
content: '"';
position: absolute;
left: -10px;
top: -20px;
font-size: 4rem;
color: rgba(212, 168, 83, 0.2);
font-family: 'Ma Shan Zheng', cursive;
}

/* 隐藏内容 */
.content-section {
display: none;
opacity: 0;
}

.content-section.active {
display: block;
animation: fadeInUp 0.6s ease-out forwards;
}

/* 响应式 */
@media (max-width: 768px) {
.meditation-timer { font-size: 2.5rem; }
.taiji { width: 80px; height: 80px; }
.golden-core { width: 60px; height: 60px; }
}
</style>
</head>
<body class="min-h-screen">
<!-- 背景层 -->
<div class="mountain-bg"></div>
<div class="mist-layer">
<div class="mist"></div>
<div class="mist" style="animation-delay: -30s; top: 30%;"></div>
</div>

<!-- 灵气粒子容器 -->
<div id="particles" class="fixed inset-0 pointer-events-none z-10"></div>

<!-- 主容器 -->
<div class="relative z-20 min-h-screen">
<!-- 顶部导航 -->
<header class="fixed top-0 left-0 right-0 z-50 glass-card mx-4 mt-4 rounded-2xl">
<div class="max-w-7xl mx-auto px-6 py-4 flex items-center justify-between">
<div class="flex items-center gap-4">
<div class="taiji w-10 h-10"></div>
<h1 class="font-brush text-2xl text-gold">太虚仙门</h1>
</div>
<nav class="hidden md:flex items-center gap-8">
<a href="#" class="nav-item active text-paper/90 hover:text-gold transition-colors" data-section="home">首页</a>
<a href="#" class="nav-item text-paper/90 hover:text-gold transition-colors" data-section="realm">境界体系</a>
<a href="#" class="nav-item text-paper/90 hover:text-gold transition-colors" data-section="technique">功法秘籍</a>
<a href="#" class="nav-item text-paper/90 hover:text-gold transition-colors" data-section="alchemy">炼丹术</a>
<a href="#" class="nav-item text-paper/90 hover:text-gold transition-colors" data-section="practice">修行</a>
</nav>
<button id="mobileMenuBtn" class="md:hidden text-paper text-xl">
<i class="fas fa-bars"></i>
</button>
</div>
</header>

<!-- 移动端菜单 -->
<div id="mobileMenu" class="fixed inset-0 z-40 hidden">
<div class="absolute inset-0 bg-ink/90 backdrop-blur-xl"></div>
<div class="relative h-full flex flex-col items-center justify-center gap-8">
<a href="#" class="text-2xl font-brush text-paper hover:text-gold transition-colors" data-section="home">首页</a>
<a href="#" class="text-2xl font-brush text-paper hover:text-gold transition-colors" data-section="realm">境界体系</a>
<a href="#" class="text-2xl font-brush text-paper hover:text-gold transition-colors" data-section="technique">功法秘籍</a>
<a href="#" class="text-2xl font-brush text-paper hover:text-gold transition-colors" data-section="alchemy">炼丹术</a>
<a href="#" class="text-2xl font-brush text-paper hover:text-gold transition-colors" data-section="practice">修行</a>
<button id="closeMobileMenu" class="absolute top-8 right-8 text-paper text-2xl">
<i class="fas fa-times"></i>
</button>
</div>
</div>

<!-- 首页 -->
<section id="home" class="content-section active min-h-screen flex items-center pt-24">
<div class="max-w-7xl mx-auto px-6 py-12">
<div class="grid lg:grid-cols-2 gap-12 items-center">
<div class="space-y-8 animate-fade-in">
<div class="space-y-4">
<p class="text-jade text-lg tracking-widest">问道长生 · 修真入门</p>
<h2 class="font-brush text-5xl md:text-7xl text-paper leading-tight">
天地有大美<br/>
<span class="text-gold">修真可长生</span>
</h2>
</div>
<div class="quote-block text-lg">
<p class="mb-2">「抱朴子曰：」</p>
<p>夫求长生，修至道，诀在于志，不在于富贵名利。若夫存心于清虚之境，栖神于冥寂之域，则可以长生久视。</p>
</div>
<div class="flex flex-wrap gap-4">
<button class="btn-immortal" onclick="navigateTo('practice')">
<i class="fas fa-om mr-2"></i>开始修行
</button>
<button class="btn-immortal" onclick="navigateTo('realm')">
<i class="fas fa-mountain mr-2"></i>了解境界
</button>
</div>
</div>
<div class="flex justify-center animate-fade-in animate-delay-2">
<div class="relative">
<div class="absolute inset-0 flex items-center justify-center">
<div class="w-64 h-64 rounded-full border border-gold/20 animate-pulse"></div>
</div>
<div class="absolute inset-0 flex items-center justify-center">
<div class="w-48 h-48 rounded-full border border-jade/30" style="animation: breathe 5s ease-in-out infinite;"></div>
</div>
<div class="relative z-10 flex flex-col items-center gap-6">
<div class="taiji"></div>
<div class="golden-core"></div>
</div>
</div>
</div>
</div>

<!-- 核心理念 -->
<div class="mt-24 grid md:grid-cols-3 gap-6">
<div class="glass-card p-8 animate-fade-in animate-delay-1">
<div class="text-gold text-3xl mb-4"><i class="fas fa-yin-yang"></i></div>
<h3 class="font-brush text-2xl text-paper mb-3">炼精化气</h3>
<p class="text-paper/70">炼后天之精，化为先天真气。此乃筑基之功，为修真第一步。</p>
</div>
<div class="glass-card p-8 animate-fade-in animate-delay-2">
<div class="text-jade text-3xl mb-4"><i class="fas fa-circle-notch"></i></div>
<h3 class="font-brush text-2xl text-paper mb-3">炼气化神</h3>
<p class="text-paper/70">以真气滋养元神，神气合一，金丹可成，寿元大增。</p>
</div>
<div class="glass-card p-8 animate-fade-in animate-delay-3">
<div class="text-spirit text-3xl mb-4"><i class="fas fa-sun"></i></div>
<h3 class="font-brush text-2xl text-paper mb-3">炼神还虚</h3>
<p class="text-paper/70">神归于虚，与道合真。此乃修真之极境，超脱生死轮回。</p>
</div>
</div>
</div>
</section>

<!-- 境界体系 -->
<section id="realm" class="content-section min-h-screen pt-24">
<div class="max-w-7xl mx-auto px-6 py-12">
<div class="text-center mb-16">
<h2 class="font-brush text-4xl md:text-5xl text-paper mb-4">修真境界体系</h2>
<p class="text-paper/60 max-w-2xl mx-auto">修真一途，由凡入仙，历经重重境界。每一境界皆是生命层次的跃迁。</p>
</div>

<!-- 境界展示 -->
<div class="grid gap-6 mb-16">
<!-- 炼气期 -->
<div class="glass-card p-6 md:p-8 realm-card" data-realm="lianqi">
<div class="flex flex-col md:flex-row md:items-center gap-6">
<div class="flex-shrink-0">
<div class="w-20 h-20 rounded-full bg-gradient-to-br from-jade/30 to-jade/10 flex items-center justify-center border border-jade/30">
<span class="font-brush text-3xl text-jade">气</span>
</div>
</div>
<div class="flex-grow">
<div class="flex items-center gap-4 mb-2">
<h3 class="font-brush text-2xl text-paper">炼气期</h3>
<span class="text-jade text-sm px-3 py-1 rounded-full bg-jade/10">凡境</span>
</div>
<p class="text-paper/70 mb-4">引天地灵气入体，开辟丹田，凝聚气旋。此境界分一至九层，每三层为一小境界。</p>
<div class="grid grid-cols-3 gap-4 text-center text-sm">
<div class="p-3 rounded-lg bg-ink/30">
<div class="text-jade mb-1">初期</div>
<div class="text-paper/50">1-3层</div>
</div>
<div class="p-3 rounded-lg bg-ink/30">
<div class="text-jade mb-1">中期</div>
<div class="text-paper/50">4-6层</div>
</div>
<div class="p-3 rounded-lg bg-ink/30">
<div class="text-jade mb-1">后期</div>
<div class="text-paper/50">7-9层</div>
</div>
</div>
</div>
<div class="flex-shrink-0 text-right">
<div class="text-paper/50 text-sm">寿元</div>
<div class="text-gold text-xl font-brush">百五十载</div>
</div>
</div>
</div>

<!-- 筑基期 -->
<div class="glass-card p-6 md:p-8 realm-card" data-realm="zhuji">
<div class="flex flex-col md:flex-row md:items-center gap-6">
<div class="flex-shrink-0">
<div class="w-20 h-20 rounded-full bg-gradient-to-br from-azure/30 to-azure/10 flex items-center justify-center border border-azure/30">
<span class="font-brush text-3xl text-azure">基</span>
</div>
</div>
<div class="flex-grow">
<div class="flex items-center gap-4 mb-2">
<h3 class="font-brush text-2xl text-paper">筑基期</h3>
<span class="text-azure text-sm px-3 py-1 rounded-full bg-azure/10">入道</span>
</div>
<p class="text-paper/70 mb-4">气旋化液，筑建道基。此为修真之根基，根基稳固与否，决定日后成就高低。</p>
<div class="grid grid-cols-3 gap-4 text-center text-sm">
<div class="p-3 rounded-lg bg-ink/30">
<div class="text-azure mb-1">初期</div>
<div class="text-paper/50">道基初成</div>
</div>
<div class="p-3 rounded-lg bg-ink/30">
<div class="text-azure mb-1">中期</div>
<div class="text-paper/50">道基稳固</div>
</div>
<div class="p-3 rounded-lg bg-ink/30">
<div class="text-azure mb-1">后期</div>
<div class="text-paper/50">道基圆满</div>
</div>
</div>
</div>
<div class="flex-shrink-0 text-right">
<div class="text-paper/50 text-sm">寿元</div>
<div class="text-gold text-xl font-brush">三百载</div>
</div>
</div>
</div>

<!-- 金丹期 -->
<div class="glass-card p-6 md:p-8 realm-card" data-realm="jindan">
<div class="flex flex-col md:flex-row md:items-center gap-6">
<div class="flex-shrink-0">
<div class="w-20 h-20 rounded-full bg-gradient-to-br from-gold/30 to-gold/10 flex items-center justify-center border border-gold/30 relative">
<span class="font-brush text-3xl text-gold">丹</span>
<div class="absolute inset-0 rounded-full animate-ping bg-gold/20"></div>
</div>
</div>
<div class="flex-grow">
<div class="flex items-center gap-4 mb-2">
<h3 class="font-brush text-2xl text-paper">金丹期</h3>
<span class="text-gold text-sm px-3 py-1 rounded-full bg-gold/10">真人</span>
</div>
<p class="text-paper/70 mb-4">道基化丹，金丹大成。金丹一成，寿元大增，可御剑飞行，神通初显。</p>
<div class="quote-block text-sm mb-4">
<p>「金丹之道，以神运气，结为金丹。丹成之后，身外有身，出入无碍。」—— 《悟真篇》</p>
</div>
<div class="grid grid-cols-3 gap-4 text-center text-sm">
<div class="p-3 rounded-lg bg-ink/30">
<div class="text-gold mb-1">初期</div>
<div class="text-paper/50">金丹初凝</div>
</div>
<div class="p-3 rounded-lg bg-ink/30">
<div class="text-gold mb-1">中期</div>
<div class="text-paper/50">金丹稳固</div>
</div>
<div class="p-3 rounded-lg bg-ink/30">
<div class="text-gold mb-1">后期</div>
<div class="text-paper/50">金丹圆满</div>
</div>
</div>
</div>
<div class="flex-shrink-0 text-right">
<div class="text-paper/50 text-sm">寿元</div>
<div class="text-gold text-xl font-brush">五百载</div>
</div>
</div>
</div>

<!-- 元婴期 -->
<div class="glass-card p-6 md:p-8 realm-card" data-realm="yuanying">
<div class="flex flex-col md:flex-row md:items-center gap-6">
<div class="flex-shrink-0">
<div class="w-20 h-20 rounded-full bg-gradient-to-br from-spirit/30 to-spirit/10 flex items-center justify-center border border-spirit/30">
<span class="font-brush text-3xl text-spirit">婴</span>
</div>
</div>
<div class="flex-grow">
<div class="flex items-center gap-4 mb-2">
<h3 class="font-brush text-2xl text-paper">元婴期</h3>
<span class="text-spirit text-sm px-3 py-1 rounded-full bg-spirit/10">真君</span>
</div>
<p class="text-paper/70 mb-4">碎丹成婴，元婴出窍。元婴不灭，肉身可弃。此境界可神游太虚，瞬息千里。</p>
<div class="grid grid-cols-3 gap-4 text-center text-sm">
<div class="p-3 rounded-lg bg-ink/30">
<div class="text-spirit mb-1">初期</div>
<div class="text-paper/50">元婴初生</div>
</div>
<div class="p-3 rounded-lg bg-ink/30">
<div class="text-spirit mb-1">中期</div>
<div class="text-paper/50">元婴成长</div>
</div>
<div class="p-3 rounded-lg bg-ink/30">
<div class="text-spirit mb-1">后期</div>
<div class="text-paper/50">元婴大成</div>
</div>
</div>
</div>
<div class="flex-shrink-0 text-right">
<div class="text-paper/50 text-sm">寿元</div>
<div class="text-gold text-xl font-brush">千载</div>
</div>
</div>
</div>

<!-- 化神期 -->
<div class="glass-card p-6 md:p-8 realm-card" data-realm="huashen">
<div class="flex flex-col md:flex-row md:items-center gap-6">
<div class="flex-shrink-0">
<div class="w-20 h-20 rounded-full bg-gradient-to-br from-vermilion/30 to-vermilion/10 flex items-center justify-center border border-vermilion/30">
<span class="font-brush text-3xl text-vermilion">神</span>
</div>
</div>
<div class="flex-grow">
<div class="flex items-center gap-4 mb-2">
<h3 class="font-brush text-2xl text-paper">化神期</h3>
<span class="text-vermilion text-sm px-3 py-1 rounded-full bg-vermilion/10">道君</span>
</div>
<p class="text-paper/70 mb-4">元婴化神，神念通达。一念之间，可覆盖万里。此境界已触及天地法则。</p>
<div class="grid grid-cols-3 gap-4 text-center text-sm">
<div class="p-3 rounded-lg bg-ink/30">
<div class="text-vermilion mb-1">初期</div>
<div class="text-paper/50">神念初成</div>
</div>
<div class="p-3 rounded-lg bg-ink/30">
<div class="text-vermilion mb-1">中期</div>
<div class="text-paper/50">神念壮大</div>
</div>
<div class="p-3 rounded-lg bg-ink/30">
<div class="text-vermilion mb-1">后期</div>
<div class="text-paper/50">神念圆满</div>
</div>
</div>
</div>
<div class="flex-shrink-0 text-right">
<div class="text-paper/50 text-sm">寿元</div>
<div class="text-gold text-xl font-brush">三千载</div>
</div>
</div>
</div>

<!-- 返虚期 -->
<div class="glass-card p-6 md:p-8 realm-card" data-realm="fanxu">
<div class="flex flex-col md:flex-row md:items-center gap-6">
<div class="flex-shrink-0">
<div class="w-20 h-20 rounded-full bg-gradient-to-br from-paper/20 to-paper/5 flex items-center justify-center border border-paper/20">
<span class="font-brush text-3xl text-paper">虚</span>
</div>
</div>
<div class="flex-grow">
<div class="flex items-center gap-4 mb-2">
<h3 class="font-brush text-2xl text-paper">返虚期</h3>
<span class="text-paper/80 text-sm px-3 py-1 rounded-full bg-paper/10">尊者</span>
</div>
<p class="text-paper/70 mb-4">炼神还虚，与道合真。肉身可化为虚无，不受天地束缚，逍遥自在。</p>
<div class="quote-block text-sm mb-4">
<p>「还虚者，乃返本还元，复归于无极。神与道合，形神俱妙。」—— 《性命圭旨》</p>
</div>
<div class="grid grid-cols-3 gap-4 text-center text-sm">
<div class="p-3 rounded-lg bg-ink/30">
<div class="text-paper/80 mb-1">初期</div>
<div class="text-paper/50">虚空初入</div>
</div>
<div class="p-3 rounded-lg bg-ink/30">
<div class="text-paper/80 mb-1">中期</div>
<div class="text-paper/50">虚空遨游</div>
</div>
<div class="p-3 rounded-lg bg-ink/30">
<div class="text-paper/80 mb-1">后期</div>
<div class="text-paper/50">虚空大成</div>
</div>
</div>
</div>
<div class="flex-shrink-0 text-right">
<div class="text-paper/50 text-sm">寿元</div>
<div class="text-gold text-xl font-brush">万载</div>
</div>
</div>
</div>

<!-- 合道期 -->
<div class="glass-card p-6 md:p-8 realm-card" data-realm="hedao">
<div class="flex flex-col md:flex-row md:items-center gap-6">
<div class="flex-shrink-0">
<div class="w-20 h-20 rounded-full bg-gradient-to-br from-gold/50 to-spirit/30 flex items-center justify-center border border-gold/50 relative overflow-hidden">
<span class="font-brush text-3xl text-gold relative z-10">道</span>
<div class="absolute inset-0 bg-gradient-to-r from-transparent via-gold/20 to-transparent animate-pulse"></div>
</div>
</div>
<div class="flex-grow">
<div class="flex items-center gap-4 mb-2">
<h3 class="font-brush text-2xl text-paper">合道期</h3>
<span class="text-gold text-sm px-3 py-1 rounded-full bg-gold/20">圣人</span>
</div>
<p class="text-paper/70 mb-4">身与道合，我即是道。此境界已超脱生死轮回，与天地同寿，与日月同辉。</p>
<div class="grid grid-cols-3 gap-4 text-center text-sm">
<div class="p-3 rounded-lg bg-ink/30">
<div class="text-gold mb-1">初期</div>
<div class="text-paper/50">道心初合</div>
</div>
<div class="p-3 rounded-lg bg-ink/30">
<div class="text-gold mb-1">中期</div>
<div class="text-paper/50">道法自然</div>
</div>
<div class="p-3 rounded-lg bg-ink/30">
<div class="text-gold mb-1">后期</div>
<div class="text-paper/50">道成真仙</div>
</div>
</div>
</div>
<div class="flex-shrink-0 text-right">
<div class="text-paper/50 text-sm">寿元</div>
<div class="text-gold text-xl font-brush">与天同寿</div>
</div>
</div>
</div>
</div>

<!-- 金丹体系详解 -->
<div class="glass-card p-8 mt-12">
<h3 class="font-brush text-3xl text-paper mb-6 text-center">金丹大道详解</h3>
<div class="grid md:grid-cols-2 gap-8">
<div>
<h4 class="text-gold text-xl mb-4"><i class="fas fa-circle mr-2"></i>金丹之理</h4>
<div class="space-y-4 text-paper/70">
<p>金丹者，乃先天一气所结，阴阳相济，坎离交媾而成。外圆如月，内实如金，故曰金丹。</p>
<p>《悟真篇》云：「人人本有长生药，自是迷途枉自抛。」金丹之道，人人可修，但需明师指点，方知下手之处。</p>
<p>金丹成后，身轻体健，百病不生。更能延年益寿，神通自现。此乃修真之根本，仙道之阶梯。</p>
</div>
</div>
<div>
<h4 class="text-gold text-xl mb-4"><i class="fas fa-fire mr-2"></i>结丹之法</h4>
<div class="space-y-3">
<div class="flex items-start gap-3 p-3 rounded-lg bg-ink/30">
<span class="text-gold font-brush text-xl">一</span>
<div>
<div class="text-paper mb-1">采药归壶</div>
<div class="text-paper/50 text-sm">静心调息，引气归元，采先天一气入丹田。</div>
</div>
</div>
<div class="flex items-start gap-3 p-3 rounded-lg bg-ink/30">
<span class="text-gold font-brush text-xl">二</span>
<div>
<div class="text-paper mb-1">封炉温养</div>
<div class="text-paper/50 text-sm">封固三宝，温养十月，如鸡抱卵，不可懈怠。</div>
</div>
</div>
<div class="flex items-start gap-3 p-3 rounded-lg bg-ink/30">
<span class="text-gold font-brush text-xl">三</span>
<div>
<div class="text-paper mb-1">金丹大成</div>
<div class="text-paper/50 text-sm">丹成之后，大如黍米，光耀如日，是为金丹。</div>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
</section>

<!-- 功法秘籍 -->
<section id="technique" class="content-section min-h-screen pt-24">
<div class="max-w-7xl mx-auto px-6 py-12">
<div class="text-center mb-16">
<h2 class="font-brush text-4xl md:text-5xl text-paper mb-4">功法秘籍</h2>
<p class="text-paper/60 max-w-2xl mx-auto">修真之法，功法为基。择一而修，持之以恒，必有所成。</p>
</div>

<!-- 功法分类标签 -->
<div class="flex flex-wrap justify-center gap-4 mb-12">
<button class="tab-btn active" data-tab="basic">基础功法</button>
<button class="tab-btn" data-tab="advanced">进阶功法</button>
<button class="tab-btn" data-tab="secret">秘传心法</button>
</div>

<!-- 功法列表 -->
<div id="techniqueContent">
<!-- 基础功法 -->
<div class="tab-content active" data-content="basic">
<div class="grid md:grid-cols-2 lg:grid-cols-3 gap-6">
<!-- 吐纳术 -->
<div class="scroll-card">
<div class="flex items-center gap-3 mb-4">
<div class="w-12 h-12 rounded-lg bg-jade/20 flex items-center justify-center">
<i class="fas fa-wind text-jade text-xl"></i>
</div>
<div>
<h4 class="font-brush text-xl text-paper">吐纳术</h4>
<span class="text-jade text-sm">入门必修</span>
</div>
</div>
<p class="text-paper/70 mb-4">采天地之灵气，纳日月之精华。此乃修真入门第一课，万法之基。</p>
<div class="space-y-2 text-sm text-paper/60">
<div class="flex justify-between">
<span>修炼难度</span>
<span class="text-jade">入门</span>
</div>
<div class="flex justify-between">
<span>修炼时长</span>
<span>三月可成</span>
</div>
<div class="flex justify-between">
<span>前置要求</span>
<span>无</span>
</div>
</div>
<button class="btn-immortal w-full mt-4 text-sm" onclick="learnTechnique('吐纳术')">
<i class="fas fa-book-open mr-2"></i>开始修习
</button>
</div>

<!-- 静心诀 -->
<div class="scroll-card">
<div class="flex items-center gap-3 mb-4">
<div class="w-12 h-12 rounded-lg bg-azure/20 flex items-center justify-center">
<i class="fas fa-brain text-azure text-xl"></i>
</div>
<div>
<h4 class="font-brush text-xl text-paper">静心诀</h4>
<span class="text-azure text-sm">心法入门</span>
</div>
</div>
<p class="text-paper/70 mb-4">心者，君主之官。静心者，方能入定。此诀可祛除杂念，安定心神。</p>
<div class="space-y-2 text-sm text-paper/60">
<div class="flex justify-between">
<span>修炼难度</span>
<span class="text-azure">简单</span>
</div>
<div class="flex justify-between">
<span>修炼时长</span>
<span>一月可成</span>
</div>
<div class="flex justify-between">
<span>前置要求</span>
<span>吐纳术</span>
</div>
</div>
<button class="btn-immortal w-full mt-4 text-sm" onclick="learnTechnique('静心诀')">
<i class="fas fa-book-open mr-2"></i>开始修习
</button>
</div>

<!-- 引气诀 -->
<div class="scroll-card">
<div class="flex items-center gap-3 mb-4">
<div class="w-12 h-12 rounded-lg bg-spirit/20 flex items-center justify-center">
<i class="fas fa-water text-spirit text-xl"></i>
</div>
<div>
<h4 class="font-brush text-xl text-paper">引气诀</h4>
<span class="text-spirit text-sm">炼气基础</span>
</div>
</div>
<p class="text-paper/70 mb-4">引导灵气入体，开辟经脉。此为炼气期必修功法，筑基之根本。</p>
<div class="space-y-2 text-sm text-paper/60">
<div class="flex justify-between">
<span>修炼难度</span>
<span class="text-spirit">中等</span>
</div>
<div class="flex justify-between">
<span>修炼时长</span>
<span>半年可成</span>
</div>
<div class="flex justify-between">
<span>前置要求</span>
<span>静心诀</span>
</div>
</div>
<button class="btn-immortal w-full mt-4 text-sm" onclick="learnTechnique('引气诀')">
<i class="fas fa-book-open mr-2"></i>开始修习
</button>
</div>

<!-- 五行功 -->
<div class="scroll-card">
<div class="flex items-center gap-3 mb-4">
<div class="w-12 h-12 rounded-lg bg-gold/20 flex items-center justify-center">
<i class="fas fa-yin-yang text-gold text-xl"></i>
</div>
<div>
<h4 class="font-brush text-xl text-paper">五行功</h4>
<span class="text-gold text-sm">五行调和</span>
</div>
</div>
<p class="text-paper/70 mb-4">金木水火土，五行相生相克。修此功者，可调和五行，强健体魄。</p>
<div class="space-y-2 text-sm text-paper/60">
<div class="flex justify-between">
<span>修炼难度</span>
<span class="text-gold">中等</span>
</div>
<div class="flex justify-between">
<span>修炼时长</span>
<span>一年可成</span>
</div>
<div class="flex justify-between">
<span>前置要求</span>
<span>引气诀</span>
</div>
</div>
<button class="btn-immortal w-full mt-4 text-sm" onclick="learnTechnique('五行功')">
<i class="fas fa-book-open mr-2"></i>开始修习
</button>
</div>

<!-- 炼体术 -->
<div class="scroll-card">
<div class="flex items-center gap-3 mb-4">
<div class="w-12 h-12 rounded-lg bg-vermilion/20 flex items-center justify-center">
<i class="fas fa-dumbbell text-vermilion text-xl"></i>
</div>
<div>
<h4 class="font-brush text-xl text-paper">炼体术</h4>
<span class="text-vermilion text-sm">体修之法</span>
</div>
</div>
<p class="text-paper/70 mb-4">以灵气淬炼肉身，使体魄强健。体修一途，可肉身成圣。</p>
<div class="space-y-2 text-sm text-paper/60">
<div class="flex justify-between">
<span>修炼难度</span>
<span class="text-vermilion">较难</span>
</div>
<div class="flex justify-between">
<span>修炼时长</span>
<span>三年初成</span>
</div>
<div class="flex justify-between">
<span>前置要求</span>
<span>五行功</span>
</div>
</div>
<button class="btn-immortal w-full mt-4 text-sm" onclick="learnTechnique('炼体术')">
<i class="fas fa-book-open mr-2"></i>开始修习
</button>
</div>

<!-- 神识修炼法 -->
<div class="scroll-card">
<div class="flex items-center gap-3 mb-4">
<div class="w-12 h-12 rounded-lg bg-paper/10 flex items-center justify-center">
<i class="fas fa-eye text-paper/80 text-xl"></i>
</div>
<div>
<h4 class="font-brush text-xl text-paper">神识修炼法</h4>
<span class="text-paper/60 text-sm">神念初开</span>
</div>
</div>
<p class="text-paper/70 mb-4">神识者，元神之触角。修此法者，可感知周遭，洞察秋毫。</p>
<div class="space-y-2 text-sm text-paper/60">
<div class="flex justify-between">
<span>修炼难度</span>
<span class="text-paper/80">较难</span>
</div>
<div class="flex justify-between">
<span>修炼时长</span>
<span>两年可成</span>
</div>
<div class="flex justify-between">
<span>前置要求</span>
<span>静心诀</span>
</div>
</div>
<button class="btn-immortal w-full mt-4 text-sm" onclick="learnTechnique('神识修炼法')">
<i class="fas fa-book-open mr-2"></i>开始修习
</button>
</div>
</div>
</div>

<!-- 进阶功法 -->
<div class="tab-content hidden" data-content="advanced">
<div class="grid md:grid-cols-2 lg:grid-cols-3 gap-6">
<!-- 筑基功 -->
<div class="scroll-card">
<div class="flex items-center gap-3 mb-4">
<div class="w-12 h-12 rounded-lg bg-azure/20 flex items-center justify-center">
<i class="fas fa-mountain text-azure text-xl"></i>
</div>
<div>
<h4 class="font-brush text-xl text-paper">筑基功</h4>
<span class="text-azure text-sm">入道根基</span>
</div>
</div>
<p class="text-paper/70 mb-4">气旋化液，筑建道基。此功法为筑基期必修，决定日后成就。</p>
<div class="space-y-2 text-sm text-paper/60">
<div class="flex justify-between">
<span>修炼难度</span>
<span class="text-azure">困难</span>
</div>
<div class="flex justify-between">
<span>修炼时长</span>
<span>十年可成</span>
</div>
<div class="flex justify-between">
<span>前置要求</span>
<span>炼气圆满</span>
</div>
</div>
<button class="btn-immortal w-full mt-4 text-sm" onclick="learnTechnique('筑基功')">
<i class="fas fa-book-open mr-2"></i>开始修习
</button>
</div>

<!-- 结丹诀 -->
<div class="scroll-card">
<div class="flex items-center gap-3 mb-4">
<div class="w-12 h-12 rounded-lg bg-gold/20 flex items-center justify-center">
<i class="fas fa-circle text-gold text-xl"></i>
</div>
<div>
<h4 class="font-brush text-xl text-paper">结丹诀</h4>
<span class="text-gold text-sm">金丹大道</span>
</div>
</div>
<p class="text-paper/70 mb-4">道基化丹，金丹大成。此诀为金丹期核心功法，需大毅力方可修成。</p>
<div class="space-y-2 text-sm text-paper/60">
<div class="flex justify-between">
<span>修炼难度</span>
<span class="text-gold">极难</span>
</div>
<div class="flex justify-between">
<span>修炼时长</span>
<span>三十年可成</span>
</div>
<div class="flex justify-between">
<span>前置要求</span>
<span>筑基圆满</span>
</div>
</div>
<button class="btn-immortal w-full mt-4 text-sm" onclick="learnTechnique('结丹诀')">
<i class="fas fa-book-open mr-2"></i>开始修习
</button>
</div>

<!-- 婴成诀 -->
<div class="scroll-card">
<div class="flex items-center gap-3 mb-4">
<div class="w-12 h-12 rounded-lg bg-spirit/20 flex items-center justify-center">
<i class="fas fa-baby text-spirit text-xl"></i>
</div>
<div>
<h4 class="font-brush text-xl text-paper">婴成诀</h4>
<span class="text-spirit text-sm">元婴之道</span>
</div>
</div>
<p class="text-paper/70 mb-4">碎丹成婴，元婴出窍。此诀修成，可神游太虚，瞬息千里。</p>
<div class="space-y-2 text-sm text-paper/60">
<div class="flex justify-between">
<span>修炼难度</span>
<span class="text-spirit">极难</span>
</div>
<div class="flex justify-between">
<span>修炼时长</span>
<span>百年可成</span>
</div>
<div class="flex justify-between">
<span>前置要求</span>
<span>金丹圆满</span>
</div>
</div>
<button class="btn-immortal w-full mt-4 text-sm" onclick="learnTechnique('婴成诀')">
<i class="fas fa-book-open mr-2"></i>开始修习
</button>
</div>
</div>
</div>

<!-- 秘传心法 -->
<div class="tab-content hidden" data-content="secret">
<div class="glass-card p-8 max-w-3xl mx-auto">
<div class="text-center mb-8">
<div class="w-20 h-20 mx-auto rounded-full bg-gold/20 flex items-center justify-center mb-4">
<i class="fas fa-scroll text-gold text-3xl"></i>
</div>
<h3 class="font-brush text-3xl text-paper mb-2">抱朴子内篇节选</h3>
<p class="text-paper/60">东晋葛洪真人所著，修真之纲领</p>
</div>
<div class="space-y-6">
<div class="quote-block">
<p class="text-paper/80 text-lg leading-relaxed">「夫求长生，修至道，诀在于志，不在于富贵名利。仙经所谓：长生可得，仙籍可登，在人自勉，功无虚弃。」</p>
<p class="text-gold text-sm mt-2">——《抱朴子·内篇·论仙》</p>
</div>
<div class="quote-block">
<p class="text-paper/80 text-lg leading-relaxed">「人欲修真，当先修心。心者，一身之主，百神之帅。心静则神凝，神凝则气聚，气聚则精固，精固则形全。」</p>
<p class="text-gold text-sm mt-2">——《抱朴子·内篇·道意》</p>
</div>
<div class="quote-block">
<p class="text-paper/80 text-lg leading-relaxed">「凡学道术，当先知其本。本者，精气神也。精能化气，气能化神，神能还虚。此乃修真之正途。」</p>
<p class="text-gold text-sm mt-2">——《抱朴子·内篇·至理》</p>
</div>
</div>
<div class="mt-8 p-6 rounded-xl bg-ink/30 border border-gold/20">
<h4 class="text-gold font-brush text-xl mb-4">修习要诀</h4>
<ul class="space-y-3 text-paper/70">
<li class="flex items-start gap-3">
<i class="fas fa-check-circle text-jade mt-1"></i>
<span>每日子时（23:00-1:00）为最佳修炼时辰，此时天地灵气最盛。</span>
</li>
<li class="flex items-start gap-3">
<i class="fas fa-check-circle text-jade mt-1"></i>
<span>修炼前需沐浴更衣，焚香静心，以示对道之敬畏。</span>
</li>
<li class="flex items-start gap-3">
<i class="fas fa-check-circle text-jade mt-1"></i>
<span>修炼时需心无杂念，意守丹田，不可急躁冒进。</span>
</li>
<li class="flex items-start gap-3">
<i class="fas fa-check-circle text-jade mt-1"></i>
<span>修炼后需缓缓收功，不可骤然起身，以免气血逆行。</span>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
</section>

<!-- 炼丹术 -->
<section id="alchemy" class="content-section min-h-screen pt-24">
<div class="max-w-7xl mx-auto px-6 py-12">
<div class="text-center mb-16">
<h2 class="font-brush text-4xl md:text-5xl text-paper mb-4">炼丹术</h2>
<p class="text-paper/60 max-w-2xl mx-auto">丹道者，外丹与内丹之统称。外丹以金石草木为药，内丹以精气神为药。</p>
</div>

<div class="grid lg:grid-cols-2 gap-12">
<!-- 炼丹炉 -->
<div class="glass-card p-8">
<h3 class="font-brush text-2xl text-paper mb-6 text-center">丹炉炼制</h3>
<div class="furnace mb-8">
<div class="furnace-top"></div>
<div class="furnace-body"></div>
<div class="flame" id="furnaceFlame"></div>
<div class="smoke" id="furnaceSmoke">
<div class="smoke-particle" style="left: 0; top: 0;"></div>
<div class="smoke-particle" style="left: 20px; top: 10px; animation-delay: 0.5s;"></div>
<div class="smoke-particle" style="left: 10px; top: 20px; animation-delay: 1s;"></div>
</div>
</div>

<!-- 炼丹控制 -->
<div class="space-y-4">
<div>
<label class="text-paper/70 text-sm mb-2 block">选择丹方</label>
<select id="danRecipe" class="input-immortal w-full">
<option value="">请选择丹方...</option>
<option value="jidan">聚气丹 - 炼气期辅助</option>
<option value="zhujidan">筑基丹 - 筑基必备</option>
<option value="jindandan">金丹丹 - 结丹辅助</option>
<option value="huidan">回气丹 - 恢复灵气</option>
<option value="lidan">疗伤丹 - 治愈伤势</option>
</select>
</div>

<div id="recipeInfo" class="hidden p-4 rounded-lg bg-ink/30 border border-jade/20">
<h4 class="text-jade font-brush text-lg mb-2" id="recipeName"></h4>
<p class="text-paper/60 text-sm mb-3" id="recipeDesc"></p>
<div class="text-sm text-paper/70">
<div class="mb-2">所需材料：</div>
<div id="recipeMaterials" class="grid grid-cols-2 gap-2"></div>
</div>
</div>

<div class="flex gap-4">
<button id="startAlchemy" class="btn-immortal flex-1" onclick="startAlchemy()">
<i class="fas fa-fire mr-2"></i>开炉炼丹
</button>
<button id="stopAlchemy" class="btn-immortal flex-1 opacity-50 cursor-not-allowed" disabled onclick="stopAlchemy()">
<i class="fas fa-stop mr-2"></i>熄火
</button>
</div>

<div id="alchemyProgress" class="hidden">
<div class="flex justify-between text-sm mb-2">
<span class="text-paper/70">炼制进度</span>
<span id="alchemyPercent" class="text-gold">0%</span>
</div>
<div class="realm-progress">
<div id="alchemyBar" class="realm-progress-bar" style="width: 0%"></div>
</div>
<div id="alchemyStatus" class="text-center text-paper/60 mt-4"></div>
</div>
</div>
</div>

<!-- 丹方图鉴 -->
<div class="glass-card p-8">
<h3 class="font-brush text-2xl text-paper mb-6">丹方图鉴</h3>
<div class="space-y-4 max-h-96 overflow-y-auto pr-2">
<!-- 丹方卡片 -->
<div class="p-4 rounded-lg bg-ink/30 border border-jade/20 hover:border-jade/40 transition-colors cursor-pointer" onclick="selectRecipe('jidan')">
<div class="flex items-center gap-4">
<div class="w-12 h-12 rounded-lg bg-jade/20 flex items-center justify-center flex-shrink-0">
<i class="fas fa-circle text-jade"></i>
</div>
<div class="flex-grow">
<h4 class="text-paper font-brush text-lg">聚气丹</h4>
<p class="text-paper/50 text-sm">炼气期修士必备，可加速灵气吸收</p>
</div>
<div class="text-jade text-sm">入门</div>
</div>
</div>

<div class="p-4 rounded-lg bg-ink/30 border border-azure/20 hover:border-azure/40 transition-colors cursor-pointer" onclick="selectRecipe('zhujidan')">
<div class="flex items-center gap-4">
<div class="w-12 h-12 rounded-lg bg-azure/20 flex items-center justify-center flex-shrink-0">
<i class="fas fa-circle text-azure"></i>
</div>
<div class="flex-grow">
<h4 class="text-paper font-brush text-lg">筑基丹</h4>
<p class="text-paper/50 text-sm">筑基必备灵丹，可增加筑基成功率</p>
</div>
<div class="text-azure text-sm">中等</div>
</div>
</div>

<div class="p-4 rounded-lg bg-ink/30 border border-gold/20 hover:border-gold/40 transition-colors cursor-pointer" onclick="selectRecipe('jindandan')">
<div class="flex items-center gap-4">
<div class="w-12 h-12 rounded-lg bg-gold/20 flex items-center justify-center flex-shrink-0">
<i class="fas fa-circle text-gold"></i>
</div>
<div class="flex-grow">
<h4 class="text-paper font-brush text-lg">金丹丹</h4>
<p class="text-paper/50 text-sm">结丹期辅助灵丹，可稳固金丹</p>
</div>
<div class="text-gold text-sm">困难</div>
</div>
</div>

<div class="p-4 rounded-lg bg-ink/30 border border-spirit/20 hover:border-spirit/40 transition-colors cursor-pointer" onclick="selectRecipe('huidan')">
<div class="flex items-center gap-4">
<div class="w-12 h-12 rounded-lg bg-spirit/20 flex items-center justify-center flex-shrink-0">
<i class="fas fa-circle text-spirit"></i>
</div>
<div class="flex-grow">
<h4 class="text-paper font-brush text-lg">回气丹</h4>
<p class="text-paper/50 text-sm">快速恢复灵气，战斗必备</p>
</div>
<div class="text-spirit text-sm">简单</div>
</div>
</div>

<div class="p-4 rounded-lg bg-ink/30 border border-vermilion/20 hover:border-vermilion/40 transition-colors cursor-pointer" onclick="selectRecipe('lidan')">
<div class="flex items-center gap-4">
<div class="w-12 h-12 rounded-lg bg-vermilion/20 flex items-center justify-center flex-shrink-0">
<i class="fas fa-circle text-vermilion"></i>
</div>
<div class="flex-grow">
<h4 class="text-paper font-brush text-lg">疗伤丹</h4>
<p class="text-paper/50 text-sm">治愈内外伤势，加速恢复</p>
</div>
<div class="text-vermilion text-sm">简单</div>
</div>
</div>
</div>

<!-- 丹道理论 -->
<div class="mt-8 p-6 rounded-xl bg-ink/30 border border-gold/20">
<h4 class="text-gold font-brush text-xl mb-4">丹道要旨</h4>
<div class="space-y-3 text-paper/70 text-sm">
<p>《抱朴子》云：「金丹之为物，烧之愈久，变化愈妙。黄金入火，百炼不消，埋之毕天不朽。服此二物，炼人身体，故能令人不老不死。」</p>
<p>外丹之道，以铅汞为祖，龙虎为宗。采天地之精华，炼日月之灵气。火候为先，时辰为要。文武相济，方能成丹。</p>
<p>然外丹虽妙，不如内丹。内丹者，以身为炉，以心为火，以精为铅，以神为汞。炼精化气，炼气化神，炼神还虚，此乃大道。</p>
</div>
</div>
</div>
</div>
</div>
</section>

<!-- 修行 -->
<section id="practice" class="content-section min-h-screen pt-24">
<div class="max-w-7xl mx-auto px-6 py-12">
<div class="text-center mb-16">
<h2 class="font-brush text-4xl md:text-5xl text-paper mb-4">修行中心</h2>
<p class="text-paper/60 max-w-2xl mx-auto">道在心中，修在行中。每日勤修，必有精进。</p>
</div>

<div class="grid lg:grid-cols-3 gap-8">
<!-- 修行状态 -->
<div class="lg:col-span-2 space-y-8">
<!-- 当前境界 -->
<div class="glass-card p-8">
<div class="flex items-center justify-between mb-6">
<h3 class="font-brush text-2xl text-paper">当前境界</h3>
<button class="text-gold text-sm hover:text-gold/80 transition-colors" onclick="showRealmInfo()">
<i class="fas fa-info-circle mr-1"></i>详情
</button>
</div>
<div class="flex items-center gap-6 mb-6">
<div class="w-24 h-24 rounded-full bg-gradient-to-br from-jade/30 to-jade/10 flex items-center justify-center border-2 border-jade/30">
<span class="font-brush text-4xl text-jade" id="currentRealmIcon">气</span>
</div>
<div class="flex-grow">
<div class="flex items-center gap-3 mb-2">
<h4 class="font-brush text-2xl text-paper" id="currentRealmName">炼气期</h4>
<span class="text-jade text-sm px-3 py-1 rounded-full bg-jade/10" id="currentRealmStage">初期</span>
</div>
<p class="text-paper/60" id="currentRealmDesc">引天地灵气入体，开辟丹田</p>
</div>
</div>
<div class="space-y-2">
<div class="flex justify-between text-sm">
<span class="text-paper/70">修炼进度</span>
<span class="text-gold" id="practicePercent">35%</span>
</div>
<div class="realm-progress">
<div class="realm-progress-bar" id="practiceBar" style="width: 35%"></div>
</div>
</div>
<div class="grid grid-cols-3 gap-4 mt-6 text-center">
<div class="p-4 rounded-lg bg-ink/30">
<div class="text-paper/50 text-sm mb-1">灵力</div>
<div class="text-jade text-xl font-brush" id="spiritPower">1,250</div>
</div>
<div class="p-4 rounded-lg bg-ink/30">
<div class="text-paper/50 text-sm mb-1">修炼时辰</div>
<div class="text-gold text-xl font-brush" id="practiceHours">128</div>
</div>
<div class="p-4 rounded-lg bg-ink/30">
<div class="text-paper/50 text-sm mb-1">突破次数</div>
<div class="text-spirit text-xl font-brush" id="breakthroughCount">3</div>
</div>
</div>
</div>

<!-- 打坐冥想 -->
<div class="glass-card p-8">
<div class="flex items-center justify-between mb-6">
<h3 class="font-brush text-2xl text-paper">打坐冥想</h3>
<div class="flex items-center gap-2">
<span class="text-paper/50 text-sm">状态：</span>
<span id="meditationStatus" class="text-jade">待机中</span>
</div>
</div>
<div class="text-center py-8">
<div class="relative inline-block mb-8">
<div class="meditation-ring w-48 h-48" style="animation-delay: 0s;"></div>
<div class="meditation-ring w-40 h-40 absolute top-4 left-4" style="animation-delay: 0.5s;"></div>
<div class="meditation-ring w-32 h-32 absolute top-8 left-8" style="animation-delay: 1s;"></div>
<div class="absolute inset-0 flex items-center justify-center">
<div class="meditation-timer" id="meditationTimer">00:00:00</div>
</div>
</div>
<div class="flex justify-center gap-4">
<button id="startMeditation" class="btn-immortal" onclick="startMeditation()">
<i class="fas fa-play mr-2"></i>开始冥想
</button>
<button id="stopMeditation" class="btn-immortal opacity-50 cursor-not-allowed" disabled onclick="stopMeditation()">
<i class="fas fa-stop mr-2"></i>结束冥想
</button>
</div>
</div>
<div class="mt-6 p-4 rounded-lg bg-ink/30">
<h4 class="text-gold text-sm mb-2">冥想要诀</h4>
<p class="text-paper/60 text-sm">盘膝而坐，双手结印，闭目调息。吸气时观想天地灵气从百会穴入体，呼气时观想浊气从涌泉穴排出。心无杂念，意守丹田。</p>
</div>
</div>
</div>

<!-- 侧边栏 -->
<div class="space-y-8">
<!-- 灵根测试 -->
<div class="glass-card p-6">
<h3 class="font-brush text-xl text-paper mb-4">灵根测试</h3>
<p class="text-paper/60 text-sm mb-4">测试你的修行资质，了解自己的灵根属性。</p>
<button class="btn-immortal w-full" onclick="startRootTest()">
<i class="fas fa-search mr-2"></i>开始测试
</button>
</div>

<!-- 每日任务 -->
<div class="glass-card p-6">
<h3 class="font-brush text-xl text-paper mb-4">每日修行</h3>
<div class="space-y-3">
<div class="flex items-center justify-between p-3 rounded-lg bg-ink/30">
<div class="flex items-center gap-3">
<i class="fas fa-check-circle text-jade"></i>
<span class="text-paper/80 text-sm">晨间吐纳</span>
</div>
<span class="text-jade text-sm">已完成</span>
</div>
<div class="flex items-center justify-between p-3 rounded-lg bg-ink/30">
<div class="flex items-center gap-3">
<i class="fas fa-circle text-paper/30"></i>
<span class="text-paper/80 text-sm">午时炼气</span>
</div>
<span class="text-paper/50 text-sm">待完成</span>
</div>
<div class="flex items-center justify-between p-3 rounded-lg bg-ink/30">
<div class="flex items-center gap-3">
<i class="fas fa-circle text-paper/30"></i>
<span class="text-paper/80 text-sm">子时冥想</span>
</div>
<span class="text-paper/50 text-sm">待完成</span>
</div>
<div class="flex items-center justify-between p-3 rounded-lg bg-ink/30">
<div class="flex items-center gap-3">
<i class="fas fa-circle text-paper/30"></i>
<span class="text-paper/80 text-sm">研读经典</span>
</div>
<span class="text-paper/50 text-sm">待完成</span>
</div>
</div>
<div class="mt-4 pt-4 border-t border-paper/10">
<div class="flex justify-between text-sm">
<span class="text-paper/50">今日进度</span>
<span class="text-gold">1/4</span>
</div>
</div>
</div>

<!-- 修行记录 -->
<div class="glass-card p-6">
<h3 class="font-brush text-xl text-paper mb-4">修行记录</h3>
<div class="space-y-3 max-h-48 overflow-y-auto">
<div class="text-sm p-2 rounded bg-ink/20">
<div class="text-paper/80">完成晨间吐纳</div>
<div class="text-paper/40 text-xs">今日 06:00</div>
</div>
<div class="text-sm p-2 rounded bg-ink/20">
<div class="text-paper/80">修炼引气诀 2小时</div>
<div class="text-paper/40 text-xs">昨日 14:30</div>
</div>
<div class="text-sm p-2 rounded bg-ink/20">
<div class="text-paper/80">突破至炼气三层</div>
<div class="text-paper/40 text-xs">三日前</div>
</div>
<div class="text-sm p-2 rounded bg-ink/20">
<div class="text-paper/80">炼制聚气丹一枚</div>
<div class="text-paper/40 text-xs">五日前</div>
</div>
</div>
</div>
</div>
</div>
</div>
</section>
</div>

<!-- 灵根测试弹窗 -->
<div id="rootTestModal" class="fixed inset-0 z-50 hidden">
<div class="absolute inset-0 bg-ink/90 backdrop-blur-xl"></div>
<div class="relative h-full flex items-center justify-center p-4">
<div class="glass-card p-8 max-w-md w-full">
<div id="rootTestContent">
<!-- 测试步骤1 -->
<div class="test-step active" data-step="1">
<h3 class="font-brush text-2xl text-paper text-center mb-6">灵根测试</h3>
<p class="text-paper/70 text-center mb-8">灵根乃修行之根本，决定修行资质与属性。请静心回答以下问题。</p>
<div class="space-y-4">
<div>
<label class="text-paper/70 text-sm mb-2 block">你出生的时辰</label>
<select id="birthTime" class="input-immortal w-full">
<option value="">请选择...</option>
<option value="zi">子时 (23:00-01:00)</option>
<option value="chou">丑时 (01:00-03:00)</option>
<option value="yin">寅时 (03:00-05:00)</option>
<option value="mao">卯时 (05:00-07:00)</option>
<option value="chen">辰时 (07:00-09:00)</option>
<option value="si">巳时 (09:00-11:00)</option>
<option value="wu">午时 (11:00-13:00)</option>
<option value="wei">未时 (13:00-15:00)</option>
<option value="shen">申时 (15:00-17:00)</option>
<option value="you">酉时 (17:00-19:00)</option>
<option value="xu">戌时 (19:00-21:00)</option>
<option value="hai">亥时 (21:00-23:00)</option>
</select>
</div>
<div>
<label class="text-paper/70 text-sm mb-2 block">你最喜欢的季节</label>
<select id="favoriteSeason" class="input-immortal w-full">
<option value="">请选择...</option>
<option value="spring">春季</option>
<option value="summer">夏季</option>
<option value="autumn">秋季</option>
<option value="winter">冬季</option>
</select>
</div>
<button class="btn-immortal w-full mt-4" onclick="nextTestStep(2)">
下一步
</button>
</div>
</div>

<!-- 测试步骤2 -->
<div class="test-step hidden" data-step="2">
<h3 class="font-brush text-2xl text-paper text-center mb-6">灵根测试</h3>
<p class="text-paper/70 text-center mb-8">请选择与你最为契合的元素</p>
<div class="grid grid-cols-2 gap-4">
<button class="p-6 rounded-xl border border-jade/30 hover:border-jade hover:bg-jade/10 transition-all" onclick="selectElement('wood')">
<i class="fas fa-leaf text-jade text-3xl mb-2"></i>
<div class="text-paper">木</div>
<div class="text-paper/50 text-sm">生机盎然</div>
</button>
<button class="p-6 rounded-xl border border-vermilion/30 hover:border-vermilion hover:bg-vermilion/10 transition-all" onclick="selectElement('fire')">
<i class="fas fa-fire text-vermilion text-3xl mb-2"></i>
<div class="text-paper">火</div>
<div class="text-paper/50 text-sm">炽热奔放</div>
</button>
<button class="p-6 rounded-xl border border-paper/30 hover:border-paper hover:bg-paper/10 transition-all" onclick="selectElement('metal')">
<i class="fas fa-gem text-paper/80 text-3xl mb-2"></i>
<div class="text-paper">金</div>
<div class="text-paper/50 text-sm">锋锐坚韧</div>
</button>
<button class="p-6 rounded-xl border border-spirit/30 hover:border-spirit hover:bg-spirit/10 transition-all" onclick="selectElement('water')">
<i class="fas fa-water text-spirit text-3xl mb-2"></i>
<div class="text-paper">水</div>
<div class="text-paper/50 text-sm">柔韧包容</div>
</button>
<button class="p-6 rounded-xl border border-gold/30 hover:border-gold hover:bg-gold/10 transition-all" onclick="selectElement('earth')">
<i class="fas fa-mountain text-gold text-3xl mb-2"></i>
<div class="text-paper">土</div>
<div class="text-paper/50 text-sm">厚重稳固</div>
</button>
<button class="p-6 rounded-xl border border-azure/30 hover:border-azure hover:bg-azure/10 transition-all" onclick="selectElement('balanced')">
<i class="fas fa-yin-yang text-azure text-3xl mb-2"></i>
<div class="text-paper">五行均衡</div>
<div class="text-paper/50 text-sm">中庸之道</div>
</button>
</div>
</div>

<!-- 测试结果 -->
<div class="test-step hidden" data-step="result">
<div class="root-result">
<div class="w-24 h-24 mx-auto rounded-full mb-6 flex items-center justify-center" id="rootResultIcon">
<i class="fas fa-leaf text-4xl"></i>
</div>
<h3 class="font-brush text-3xl text-paper mb-2" id="rootResultTitle">木灵根</h3>
<p class="text-gold text-lg mb-4" id="rootResultLevel">上品灵根</p>
<p class="text-paper/70 mb-6" id="rootResultDesc">木主生发，你的灵根属性偏向木行。修行木系功法事半功倍，治愈之术天赋异禀。</p>
<div class="grid grid-cols-2 gap-4 text-sm">
<div class="p-3 rounded-lg bg-ink/30">
<div class="text-paper/50 mb-1">修炼速度</div>
<div class="text-jade" id="rootSpeed">+30%</div>
</div>
<div class="p-3 rounded-lg bg-ink/30">
<div class="text-paper/50 mb-1">推荐功法</div>
<div class="text-gold" id="rootTechnique">青木诀</div>
</div>
</div>
<button class="btn-immortal w-full mt-6" onclick="closeRootTest()">
<i class="fas fa-check mr-2"></i>确定
</button>
</div>
</div>
</div>
</div>
</div>
</div>

<!-- 功法学习弹窗 -->
<div id="learnTechniqueModal" class="fixed inset-0 z-50 hidden">
<div class="absolute inset-0 bg-ink/90 backdrop-blur-xl"></div>
<div class="relative h-full flex items-center justify-center p-4">
<div class="glass-card p-8 max-w-lg w-full">
<h3 class="font-brush text-2xl text-paper text-center mb-2" id="learnTechName">吐纳术</h3>
<p class="text-paper/50 text-center mb-6">修习此功法</p>
<div class="space-y-4 mb-6">
<div class="p-4 rounded-lg bg-ink/30">
<h4 class="text-gold text-sm mb-2">功法口诀</h4>
<p class="text-paper/70 text-sm leading-relaxed" id="learnTechMantra">
吸气观想天地灵气从百会穴入，沿任脉下行至丹田。呼气时，观想浊气从涌泉穴出。循环往复，日久功深。
</p>
</div>
<div class="p-4 rounded-lg bg-ink/30">
<h4 class="text-gold text-sm mb-2">修炼要点</h4>
<ul class="text-paper/70 text-sm space-y-2" id="learnTechPoints">
<li>• 选择安静之处，盘膝而坐</li>
<li>• 舌抵上颚，双手结印</li>
<li>• 呼吸绵长，意守丹田</li>
<li>• 每日修炼，不可间断</li>
</ul>
</div>
</div>
<div class="flex gap-4">
<button class="btn-immortal flex-1" onclick="confirmLearnTechnique()">
<i class="fas fa-check mr-2"></i>开始修习
</button>
<button class="btn-immortal flex-1" onclick="closeLearnTechnique()">
<i class="fas fa-times mr-2"></i>取消
</button>
</div>
</div>
</div>
</div>

<!-- 境界详情弹窗 -->
<div id="realmInfoModal" class="fixed inset-0 z-50 hidden">
<div class="absolute inset-0 bg-ink/90 backdrop-blur-xl"></div>
<div class="relative h-full flex items-center justify-center p-4 overflow-y-auto">
<div class="glass-card p-8 max-w-2xl w-full my-8">
<div class="flex items-center justify-between mb-6">
<h3 class="font-brush text-2xl text-paper">境界详解</h3>
<button class="text-paper/50 hover:text-paper transition-colors" onclick="closeRealmInfo()">
<i class="fas fa-times text-xl"></i>
</button>
</div>
<div id="realmInfoContent">
<!-- 动态填充 -->
</div>
</div>
</div>
</div>

<script>
// 数据定义
const realmData = {
lianqi: {
name: '炼气期',
icon: '气',
stage: '初期',
color: 'jade',
desc: '引天地灵气入体，开辟丹田，凝聚气旋',
lifespan: '百五十载',
stages: ['初期 (1-3层)', '中期 (4-6层)', '后期 (7-9层)'],
abilities: ['感应灵气', '引气入体', '开辟丹田'],
nextRealm: '筑基期',
requirement: '气旋化液，道基初成'
},
zhuji: {
name: '筑基期',
icon: '基',
stage: '初期',
color: 'azure',
desc: '气旋化液，筑建道基',
lifespan: '三百载',
stages: ['初期', '中期', '后期'],
abilities: ['御器飞行', '神识初显', '寿元大增'],
nextRealm: '金丹期',
requirement: '道基圆满，结丹有望'
},
jindan: {
name: '金丹期',
icon: '丹',
stage: '初期',
color: 'gold',
desc: '道基化丹，金丹大成',
lifespan: '五百载',
stages: ['初期', '中期', '后期'],
abilities: ['御剑飞行', '神通初显', '辟谷不食'],
nextRealm: '元婴期',
requirement: '金丹圆满，碎丹成婴'
},
yuanying: {
name: '元婴期',
icon: '婴',
stage: '初期',
color: 'spirit',
desc: '碎丹成婴，元婴出窍',
lifespan: '千载',
stages: ['初期', '中期', '后期'],
abilities: ['元婴出窍', '瞬移千里', '分神化身'],
nextRealm: '化神期',
requirement: '元婴大成，化神有望'
},
huashen: {
name: '化神期',
icon: '神',
stage: '初期',
color: 'vermilion',
desc: '元婴化神，神念通达',
lifespan: '三千载',
stages: ['初期', '中期', '后期'],
abilities: ['神念覆盖', '法则初悟', '移山填海'],
nextRealm: '返虚期',
requirement: '神念圆满，返虚有望'
},
fanxu: {
name: '返虚期',
icon: '虚',
stage: '初期',
color: 'paper',
desc: '炼神还虚，与道合真',
lifespan: '万载',
stages: ['初期', '中期', '后期'],
abilities: ['虚空遨游', '法则掌控', '不死不灭'],
nextRealm: '合道期',
requirement: '虚空大成，合道有望'
},
hedao: {
name: '合道期',
icon: '道',
stage: '初期',
color: 'gold',
desc: '身与道合，我即是道',
lifespan: '与天同寿',
stages: ['初期', '中期', '后期'],
abilities: ['言出法随', '创造世界', '超脱轮回'],
nextRealm: '飞升仙界',
requirement: '道成真仙，飞升有望'
}
};

const techniqueData = {
'吐纳术': {
mantra: '吸气观想天地灵气从百会穴入，沿任脉下行至丹田。呼气时，观想浊气从涌泉穴出。循环往复，日久功深。',
points: ['选择安静之处，盘膝而坐', '舌抵上颚，双手结印', '呼吸绵长，意守丹田', '每日修炼，不可间断']
},
'静心诀': {
mantra: '心如止水，意如明镜。杂念不起，神思清明。观心如观水，水静则明，心静则灵。',
points: ['闭目端坐，放松身心', '观想心如止水之境', '杂念起时，不追不随', '日久功深，心自安宁']
},
'引气诀': {
mantra: '意引灵气，循经而行。十二正经，奇经八脉，一一打通。气行周天，无滞无碍。',
points: ['先通任督二脉', '再通十二正经', '后通奇经八脉', '周天循环，生生不息']
},
'五行功': {
mantra: '金木水火土，五行相生相克。观想五行之气，调和阴阳，平衡身心。',
points: ['辨别自身五行属性', '选择相生方向修炼', '调和五行平衡', '强健体魄根基']
},
'炼体术': {
mantra: '以灵淬体，以体载道。皮肉筋骨，五脏六腑，一一淬炼，方成金刚。',
points: ['灵气淬炼皮肤', '淬炼筋骨肌肉', '淬炼五脏六腑', '最终肉身成圣']
},
'神识修炼法': {
mantra: '神识者，元神之触角。观想神识如水波扩散，感知周遭一切。',
points: ['静心凝神，意念外放', '观想神识如涟漪扩散', '逐步扩大感知范围', '神识强大，洞察秋毫']
},
'筑基功': {
mantra: '气旋化液，筑建道基。如建高楼，根基为先。道基稳固，日后可期。',
points: ['凝聚气旋', '气旋液化', '筑建道基', '道基稳固圆满']
},
'结丹诀': {
mantra: '道基化丹，金丹大成。阴阳相济，坎离交媾。十月温养，金丹可成。',
points: ['采药归壶', '封炉温养', '金丹初凝', '金丹大成']
},
'婴成诀': {
mantra: '碎丹成婴，元婴出窍。如婴儿新生，需细心呵护。元婴成长，神通自显。',
points: ['金丹碎裂', '元婴初生', '细心温养', '元婴大成']
}
};

const recipeData = {
jidan: {
name: '聚气丹',
desc: '炼气期修士必备，可加速灵气吸收，提升修炼速度',
materials: ['灵草 x3', '聚灵花 x1', '清泉水 x2'],
difficulty: '入门'
},
zhujidan: {
name: '筑基丹',
desc: '筑基必备灵丹，可增加筑基成功率，珍贵异常',
materials: ['天灵果 x1', '筑基草 x5', '千年人参 x1'],
difficulty: '中等'
},
jindandan: {
name: '金丹丹',
desc: '结丹期辅助灵丹，可稳固金丹，防止金丹碎裂',
materials: ['金精 x3', '九转灵草 x1', '龙血草 x2'],
difficulty: '困难'
},
huidan: {
name: '回气丹',
desc: '快速恢复灵气，战斗必备，炼气期即可使用',
materials: ['回灵草 x2', '聚气石 x1', '清泉水 x1'],
difficulty: '简单'
},
lidan: {
name: '疗伤丹',
desc: '治愈内外伤势，加速恢复，炼气期即可使用',
materials: ['疗伤草 x3', '活血果 x1', '甘露水 x2'],
difficulty: '简单'
}
};

const rootTestData = {
wood: {
name: '木灵根',
level: '上品灵根',
icon: 'fa-leaf',
color: 'jade',
bgClass: 'bg-jade/20',
textClass: 'text-jade',
desc: '木主生发，你的灵根属性偏向木行。修行木系功法事半功倍，治愈之术天赋异禀。',
speed: '+30%',
technique: '青木诀'
},
fire: {
name: '火灵根',
level: '上品灵根',
icon: 'fa-fire',
color: 'vermilion',
bgClass: 'bg-vermilion/20',
textClass: 'text-vermilion',
desc: '火主炽热，你的灵根属性偏向火行。修行火系功法事半功倍，炼丹之术天赋异禀。',
speed: '+30%',
technique: '烈焰诀'
},
metal: {
name: '金灵根',
level: '上品灵根',
icon: 'fa-gem',
color: 'paper',
bgClass: 'bg-paper/20',
textClass: 'text-paper',
desc: '金主锋锐，你的灵根属性偏向金行。修行金系功法事半功倍，剑道天赋异禀。',
speed: '+30%',
technique: '庚金诀'
},
water: {
name: '水灵根',
level: '上品灵根',
icon: 'fa-water',
color: 'spirit',
bgClass: 'bg-spirit/20',
textClass: 'text-spirit',
desc: '水主柔韧，你的灵根属性偏向水行。修行水系功法事半功倍，防御之术天赋异禀。',
speed: '+30%',
technique: '玄水诀'
},
earth: {
name: '土灵根',
level: '上品灵根',
icon: 'fa-mountain',
color: 'gold',
bgClass: 'bg-gold/20',
textClass: 'text-gold',
desc: '土主厚重，你的灵根属性偏向土行。修行土系功法事半功倍，防御之术天赋异禀。',
speed: '+30%',
technique: '厚土诀'
},
balanced: {
name: '五行灵根',
level: '极品灵根',
icon: 'fa-yin-yang',
color: 'azure',
bgClass: 'bg-azure/20',
textClass: 'text-azure',
desc: '五行均衡，你的灵根五行皆通。修行任何功法皆可，但需注意五行调和。',
speed: '+20%',
technique: '五行诀'
}
};

// 状态变量
let currentSection = 'home';
let isMeditating = false;
let meditationTimer = null;
let meditationSeconds = 0;
let isAlchemyRunning = false;
let alchemyTimer = null;
let alchemyProgress = 0;
let currentTechnique = '';

// 初始化
document.addEventListener('DOMContentLoaded', function() {
createParticles();
initNavigation();
initMobileMenu();
initTechniqueTabs();
});

// 创建灵气粒子
function createParticles() {
const container = document.getElementById('particles');
for (let i = 0; i < 30; i++) {
const particle = document.createElement('div');
particle.className = 'spirit-particle';
particle.style.left = Math.random() * 100 + '%';
particle.style.top = Math.random() * 100 + '%';
particle.style.animationDelay = Math.random() * 5 + 's';
particle.style.animationDuration = (5 + Math.random() * 5) + 's';
container.appendChild(particle);
}
}

// 导航初始化
function initNavigation() {
const navItems = document.querySelectorAll('.nav-item');
navItems.forEach(item => {
item.addEventListener('click', function(e) {
e.preventDefault();
const section = this.dataset.section;
navigateTo(section);
});
});
}

// 页面导航
function navigateTo(section) {
// 更新导航状态
document.querySelectorAll('.nav-item').forEach(item => {
item.classList.remove('active');
if (item.dataset.section === section) {
item.classList.add('active');
}
});

// 切换内容
document.querySelectorAll('.content-section').forEach(sec => {
sec.classList.remove('active');
});
document.getElementById(section).classList.add('active');

// 关闭移动端菜单
document.getElementById('mobileMenu').classList.add('hidden');

currentSection = section;
window.scrollTo({ top: 0, behavior: 'smooth' });
}

// 移动端菜单
function initMobileMenu() {
const menuBtn = document.getElementById('mobileMenuBtn');
const closeBtn = document.getElementById('closeMobileMenu');
const mobileMenu = document.getElementById('mobileMenu');
const menuLinks = mobileMenu.querySelectorAll('a');

menuBtn.addEventListener('click', () => {
mobileMenu.classList.remove('hidden');
});

closeBtn.addEventListener('click', () => {
mobileMenu.classList.add('hidden');
});

menuLinks.forEach(link => {
link.addEventListener('click', function(e) {
e.preventDefault();
const section = this.dataset.section;
navigateTo(section);
});
});
}

// 功法标签切换
function initTechniqueTabs() {
const tabs = document.querySelectorAll('.tab-btn');
tabs.forEach(tab => {
tab.addEventListener('click', function() {
const tabId = this.dataset.tab;

// 更新标签状态
tabs.forEach(t => t.classList.remove('active'));
this.classList.add('active');

// 更新内容
document.querySelectorAll('.tab-content').forEach(content => {
content.classList.add('hidden');
content.classList.remove('active');
});
const targetContent = document.querySelector(`.tab-content[data-content="${tabId}"]`);
if (targetContent) {
targetContent.classList.remove('hidden');
targetContent.classList.add('active');
}
});
});
}

// 开始冥想
function startMeditation() {
if (isMeditating) return;
isMeditating = true;
meditationSeconds = 0;

document.getElementById('meditationStatus').textContent = '冥想中...';
document.getElementById('meditationStatus').classList.remove('text-jade');
document.getElementById('meditationStatus').classList.add('text-gold');
document.getElementById('startMeditation').classList.add('opacity-50', 'cursor-not-allowed');
document.getElementById('startMeditation').disabled = true;
document.getElementById('stopMeditation').classList.remove('opacity-50', 'cursor-not-allowed');
document.getElementById('stopMeditation').disabled = false;

meditationTimer = setInterval(() => {
meditationSeconds++;
updateMeditationTimer();
}, 1000);
}

// 更新冥想计时器
function updateMeditationTimer() {
const hours = Math.floor(meditationSeconds / 3600);
const minutes = Math.floor((meditationSeconds % 3600) / 60);
const seconds = meditationSeconds % 60;
document.getElementById('meditationTimer').textContent = 
`${String(hours).padStart(2, '0')}:${String(minutes).padStart(2, '0')}:${String(seconds).padStart(2, '0')}`;
}

// 停止冥想
function stopMeditation() {
if (!isMeditating) return;
isMeditating = false;
clearInterval(meditationTimer);

document.getElementById('meditationStatus').textContent = '待机中';
document.getElementById('meditationStatus').classList.remove('text-gold');
document.getElementById('meditationStatus').classList.add('text-jade');
document.getElementById('startMeditation').classList.remove('opacity-50', 'cursor-not-allowed');
document.getElementById('startMeditation').disabled = false;
document.getElementById('stopMeditation').classList.add('opacity-50', 'cursor-not-allowed');
document.getElementById('stopMeditation').disabled = true;

// 更新修炼时辰
const hours = Math.floor(meditationSeconds / 3600);
const currentHours = parseInt(document.getElementById('practiceHours').textContent);
document.getElementById('practiceHours').textContent = currentHours + hours;

// 更新进度
updatePracticeProgress(meditationSeconds);
}

// 更新修炼进度
function updatePracticeProgress(seconds) {
const currentProgress = parseInt(document.getElementById('practicePercent').textContent);
const gain = Math.floor(seconds / 60); // 每分钟增加1%
const newProgress = Math.min(currentProgress + gain, 100);

document.getElementById('practicePercent').textContent = newProgress + '%';
document.getElementById('practiceBar').style.width = newProgress + '%';

if (newProgress >= 100) {
showBreakthrough();
}
}

// 突破提示
function showBreakthrough() {
const count = parseInt(document.getElementById('breakthroughCount').textContent);
document.getElementById('breakthroughCount').textContent = count + 1;
document.getElementById('practicePercent').textContent = '0%';
document.getElementById('practiceBar').style.width = '0%';

// 简单的突破动画
const icon = document.getElementById('currentRealmIcon');
icon.style.transform = 'scale(1.5)';
setTimeout(() => {
icon.style.transform = 'scale(1)';
}, 500);
}

// 选择丹方
function selectRecipe(recipeId) {
const recipe = recipeData[recipeId];
if (!recipe) return;

document.getElementById('danRecipe').value = recipeId;
document.getElementById('recipeInfo').classList.remove('hidden');
document.getElementById('recipeName').textContent = recipe.name;
document.getElementById('recipeDesc').textContent = recipe.desc;

const materialsDiv = document.getElementById('recipeMaterials');
materialsDiv.innerHTML = recipe.materials.map(m => 
`<div class="text-paper/60"><i class="fas fa-circle text-xs mr-1"></i>${m}</div>`
).join('');
}

// 丹方选择变化
document.getElementById('danRecipe')?.addEventListener('change', function() {
const recipeId = this.value;
if (recipeId) {
selectRecipe(recipeId);
} else {
document.getElementById('recipeInfo').classList.add('hidden');
}
});

// 开始炼丹
function startAlchemy() {
const recipeId = document.getElementById('danRecipe').value;
if (!recipeId) {
alert('请先选择丹方');
return;
}

if (isAlchemyRunning) return;
isAlchemyRunning = true;
alchemyProgress = 0;

document.getElementById('furnaceFlame').classList.add('active');
document.getElementById('furnaceSmoke').classList.add('active');
document.getElementById('startAlchemy').classList.add('opacity-50', 'cursor-not-allowed');
document.getElementById('startAlchemy').disabled = true;
document.getElementById('stopAlchemy').classList.remove('opacity-50', 'cursor-not-allowed');
document.getElementById('stopAlchemy').disabled = false;
document.getElementById('alchemyProgress').classList.remove('hidden');
document.getElementById('alchemyStatus').textContent = '炼制中...';

alchemyTimer = setInterval(() => {
alchemyProgress += Math.random() * 3;
if (alchemyProgress >= 100) {
alchemyProgress = 100;
completeAlchemy();
}
document.getElementById('alchemyPercent').textContent = Math.floor(alchemyProgress) + '%';
document.getElementById('alchemyBar').style.width = alchemyProgress + '%';
}, 200);
}

// 完成炼丹
function completeAlchemy() {
stopAlchemyProcess();
document.getElementById('alchemyStatus').textContent = '丹药炼制成功！';
document.getElementById('alchemyStatus').classList.add('text-gold');

setTimeout(() => {
document.getElementById('alchemyProgress').classList.add('hidden');
document.getElementById('alchemyStatus').classList.remove('text-gold');
}, 3000);
}

// 停止炼丹
function stopAlchemy() {
stopAlchemyProcess();
document.getElementById('alchemyStatus').textContent = '炼制已中止';
}

function stopAlchemyProcess() {
isAlchemyRunning = false;
clearInterval(alchemyTimer);

document.getElementById('furnaceFlame').classList.remove('active');
document.getElementById('furnaceSmoke').classList.remove('active');
document.getElementById('startAlchemy').classList.remove('opacity-50', 'cursor-not-allowed');
document.getElementById('startAlchemy').disabled = false;
document.getElementById('stopAlchemy').classList.add('opacity-50', 'cursor-not-allowed');
document.getElementById('stopAlchemy').disabled = true;
}

// 灵根测试
function startRootTest() {
document.getElementById('rootTestModal').classList.remove('hidden');
showTestStep(1);
}

function nextTestStep(step) {
showTestStep(step);
}

function showTestStep(step) {
document.querySelectorAll('.test-step').forEach(s => {
s.classList.add('hidden');
s.classList.remove('active');
});
const targetStep = document.querySelector(`.test-step[data-step="${step}"]`);
if (targetStep) {
targetStep.classList.remove('hidden');
targetStep.classList.add('active');
}
}

function selectElement(element) {
const data = rootTestData[element];
if (!data) return;

document.getElementById('rootResultIcon').className = `w-24 h-24 mx-auto rounded-full mb-6 flex items-center justify-center ${data.bgClass}`;
document.getElementById('rootResultIcon').innerHTML = `<i class="fas ${data.icon} text-4xl ${data.textClass}"></i>`;
document.getElementById('rootResultTitle').textContent = data.name;
document.getElementById('rootResultLevel').textContent = data.level;
document.getElementById('rootResultLevel').className = `${data.textClass} text-lg mb-4`;
document.getElementById('rootResultDesc').textContent = data.desc;
document.getElementById('rootSpeed').textContent = data.speed;
document.getElementById('rootSpeed').className = data.textClass;
document.getElementById('rootTechnique').textContent = data.technique;

showTestStep('result');
}

function closeRootTest() {
document.getElementById('rootTestModal').classList.add('hidden');
}

// 功法学习
function learnTechnique(name) {
currentTechnique = name;
const tech = techniqueData[name];
if (!tech) return;

document.getElementById('learnTechName').textContent = name;
document.getElementById('learnTechMantra').textContent = tech.mantra;
document.getElementById('learnTechPoints').innerHTML = tech.points.map(p => `<li>• ${p}</li>`).join('');
document.getElementById('learnTechniqueModal').classList.remove('hidden');
}

function closeLearnTechnique() {
document.getElementById('learnTechniqueModal').classList.add('hidden');
}

function confirmLearnTechnique() {
alert(`已开始修习「${currentTechnique}」，请每日按时修炼。`);
closeLearnTechnique();
}

// 境界详情
function showRealmInfo() {
const currentRealm = 'lianqi'; // 当前境界
const data = realmData[currentRealm];

const content = `
<div class="space-y-6">
<div class="flex items-center gap-6">
<div class="w-20 h-20 rounded-full bg-${data.color}/20 flex items-center justify-center border-2 border-${data.color}/30">
<span class="font-brush text-4xl text-${data.color}">${data.icon}</span>
</div>
<div>
<h4 class="font-brush text-2xl text-paper">${data.name}</h4>
<p class="text-${data.color}">${data.stage}</p>
</div>
</div>

<div class="grid md:grid-cols-2 gap-4">
<div class="p-4 rounded-lg bg-ink/30">
<div class="text-paper/50 text-sm mb-1">寿元</div>
<div class="text-gold text-lg">${data.lifespan}</div>
</div>
<div class="p-4 rounded-lg bg-ink/30">
<div class="text-paper/50 text-sm mb-1">下一境界</div>
<div class="text-paper text-lg">${data.nextRealm}</div>
</div>
</div>

<div>
<h4 class="text-gold text-lg mb-3">境界阶段</h4>
<div class="space-y-2">
${data.stages.map(s => `<div class="p-3 rounded-lg bg-ink/30 text-paper/80">${s}</div>`).join('')}
</div>
</div>

<div>
<h4 class="text-gold text-lg mb-3">能力解锁</h4>
<div class="flex flex-wrap gap-2">
${data.abilities.map(a => `<span class="px-3 py-1 rounded-full bg-${data.color}/20 text-${data.color} text-sm">${a}</span>`).join('')}
</div>
</div>

<div class="p-4 rounded-lg bg-ink/30 border border-gold/20">
<h4 class="text-gold text-sm mb-2">突破要求</h4>
<p class="text-paper/70">${data.requirement}</p>
</div>
</div>
`;

document.getElementById('realmInfoContent').innerHTML = content;
document.getElementById('realmInfoModal').classList.remove('hidden');
}

function closeRealmInfo() {
document.getElementById('realmInfoModal').classList.add('hidden');
}

// 境界卡片点击
document.querySelectorAll('.realm-card').forEach(card => {
card.addEventListener('click', function() {
const realm = this.dataset.realm;
const data = realmData[realm];
if (!data) return;

const content = `
<div class="space-y-6">
<div class="flex items-center gap-6">
<div class="w-20 h-20 rounded-full bg-${data.color}/20 flex items-center justify-center border-2 border-${data.color}/30">
<span class="font-brush text-4xl text-${data.color}">${data.icon}</span>
</div>
<div>
<h4 class="font-brush text-2xl text-paper">${data.name}</h4>
<p class="text-${data.color}">${data.stage}</p>
</div>
</div>

<p class="text-paper/70">${data.desc}</p>

<div class="grid md:grid-cols-2 gap-4">
<div class="p-4 rounded-lg bg-ink/30">
<div class="text-paper/50 text-sm mb-1">寿元</div>
<div class="text-gold text-lg">${data.lifespan}</div>
</div>
<div class="p-4 rounded-lg bg-ink/30">
<div class="text-paper/50 text-sm mb-1">下一境界</div>
<div class="text-paper text-lg">${data.nextRealm}</div>
</div>
</div>

<div>
<h4 class="text-gold text-lg mb-3">境界阶段</h4>
<div class="space-y-2">
${data.stages.map(s => `<div class="p-3 rounded-lg bg-ink/30 text-paper/80">${s}</div>`).join('')}
</div>
</div>

<div>
<h4 class="text-gold text-lg mb-3">能力解锁</h4>
<div class="flex flex-wrap gap-2">
${data.abilities.map(a => `<span class="px-3 py-1 rounded-full bg-${data.color}/20 text-${data.color} text-sm">${a}</span>`).join('')}
</div>
</div>

<div class="p-4 rounded-lg bg-ink/30 border border-gold/20">
<h4 class="text-gold text-sm mb-2">突破要求</h4>
<p class="text-paper/70">${data.requirement}</p>
</div>
</div>
`;

document.getElementById('realmInfoContent').innerHTML = content;
document.getElementById('realmInfoModal').classList.remove('hidden');
});
});
</script>
</body>
</html>
